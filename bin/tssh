#!/usr/bin/bash

# Get Mintty color schemes
shopt -s expand_aliases
source ~/.bash_mintty_colors

DATE=`/usr/bin/date +%Y-%m-%d`
LOGDIR="/home/g800959/sshlogs"
MACHINE=`/usr/bin/hostname`
if [[ $1 == *"@"* ]]
then
 HOST=`echo $1|/usr/bin/cut -d'@' -f 2`
else
 HOST=$1
fi

if [[ $HOST == *"megatron"* || $HOST == *"da3p"* || $HOST == *"ch3p"* || $HOST == *"dal01p"* || $HOST == *"mdw01p"* ]]
then
 # Red color scheme: These servers are either in production or dangerous
 red
elif [[ $HOST == *"da3d"* || $HOST == *"da3t"* || $HOST == *"hw-"* || $HOST == *"vapp"* || $HOST == *"da3s"* ]]
then
 # Green color scheme: These servers are for development or testing
 green
elif [[ $HOST == *"centos"* ]]
then
 # Blue color scheme: These servers are local virtial machines
 blue
fi

# Set Mintty Title
echo -ne '\e]0;'$HOST'\a'

# Wrap tmux around lssh
/usr/bin/tmux new -n "Host: $HOST" -d lssh $HOST
/usr/bin/tmux attach

# Reset color scheme to default (grey on black)
default
